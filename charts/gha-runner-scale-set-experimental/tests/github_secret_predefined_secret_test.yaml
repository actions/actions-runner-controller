suite: "Test GitHub Secret pre-defined secret"
templates:
  - githubsecret.yaml
tests:
  - it: should not render githubsecret when auth.secretName is provided
    set:
      scaleset.name: "test"
      auth.url: "https://github.com/org"
      auth.secretName: "pre-defined-secret"
    release:
      name: "test-name"
      namespace: "test-namespace"
    asserts:
      - hasDocuments:
          count: 0
